webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),o={name:"singleform",props:{data:Object}},r={render:function(){var e=this.$createElement;return(this._self._c||e)("el-form-item")},staticRenderFns:[]},a=n("VU/8")(o,r,!1,null,null,null).exports;function s(e){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(e)]}var l=void 0,u={name:"myform",props:{data:Array},mounted:function(){l=this.$refs.fc.$f,this.valueform=l.formData(),this.createownform(this.config),this.createRule(this.config)},components:{singleform:a},data:function(){return{form:[],config:[{title:"的擦粉v啊",field:"question1",question:[{title:"而无法额外",content:[{type:"radio",field:"is_eating",value:"1",options:[{value:"1",label:"是",disabled:!1},{value:"2",label:"否",disabled:!1}],event:{change:function(e){"否"==e?l.disabled(["goodsa1","goodsa2"],!0):l.disabled(["goodsa1","goodsa2"],!1)}}},{type:"input",title:"费瓦",className:"myinput",field:"goodsa1",value:"",col:{span:12,labelWidth:60,xs:24},props:{type:"text"},emit:["change"],emitPrefix:"gi"},{type:"input",title:"阿尔法",className:"myinput",field:"goodsa2",value:"",col:{span:12,labelWidth:70,xs:24},props:{type:"text"},emit:["change"],emitPrefix:"gi"}]},{title:"标签",content:{type:"checkbox",field:"label",value:null,options:[{value:"1",label:"好用",disabled:!1},{value:"2",label:"方便",disabled:!1},{value:"3",label:"实用",disabled:!1},{value:"4",label:"有效",disabled:!1}],emit:["change"],emitPrefix:"gi"}}]},{title:"的擦粉v啊",field:"question1",question:[{title:"标签",content:{type:"checkbox",field:"label11",value:null,options:[{value:"1",label:"好用",disabled:!1},{value:"2",label:"方便",disabled:!1},{value:"3",label:"实用",disabled:!1},{value:"4",label:"有效",disabled:!1}],emit:["change"],emitPrefix:"gi"}}]}],finishnum:0,valueform:null,rule:[{type:"el-carousel",props:{tigger:"click",autoplay:!1,arrow:"never",loop:!1,indicatorPosition:"none"},attrs:{id:"testa"},children:[]},{type:"el-button",field:"prevbtn",col:{span:12},props:{type:"primary",field:"prevbtn",size:"mini"},domProps:{innerHTML:"上一题"},on:{click:this.PrevClick}},{type:"el-button",field:"nextbtn",col:{span:12},style:{float:"right"},props:{type:"primary",field:"nextbtn",size:"mini"},domProps:{innerHTML:"下一题"},on:{click:this.NextClick}}],option:{resetBtn:!1,submitBtn:!1,btn:!1}}},computed:{myrule:function(){return this.addLabelNumber(this.rule[0].children),this.rule},totalnum:function(){return this.rule[0].children.length},countper:function(){return 0===this.totalnum?0:this.finishnum/this.totalnum*100}},methods:{addLabelNumber:function(e){for(var t=0;t<e.length;t++)e[t].props.label=t},NextClick:function(){var e=document.querySelector("#testa").__vue__;e.next();var t=l.component();e.activeIndex==this.totalnum-1&&"下一题"==t.nextbtn.domProps.innerHTML?(t.nextbtn.domProps.innerHTML="提交",l.sync("nextbtn")):e.activeIndex==this.totalnum-1&&"提交"==t.nextbtn.domProps.innerHTML&&this.postForm()},PrevClick:function(){document.querySelector("#testa").__vue__.prev();var e=l.component();"提交"==e.nextbtn.domProps.innerHTML&&(e.nextbtn.domProps.innerHTML="下一题",l.sync("nextbtn"))},postForm:function(){var e=this,t=this.form;this.$nextTick(function(){l.submit(function(n){e.$confirm(t,"",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info",customClass:"mytest"}).then(function(){e.$message({type:"success",message:"提交成功"})}).catch(function(){e.$message({type:"info",message:"已取消提交"})})})})},Updateprogress:function(){this.valueform=l.formData()},createownform:function(e){for(var t=[],n=0;n<e.length;n++){var i={questiontext:e[n].title,questionstring:e[n].field,answergroup:this.copyAnswer(e[n].question)};t.push(i)}this.form=t},copyAnswer:function(e){for(var t=[],n=0;n<e.length;n++){var i={};i[n]=this.copyAnswerDetail(e[n].content),console.log(i[n]),t.push(i)}return t},copyAnswerDetail:function(e){var t=void 0;if("array"==s(e)){t=[];for(var n=0;n<e.length;n++){var i={};i[e[n].field]=e[n].value,t.push(i)}return t}if("object"==s(e))return(t={})[e.field]=e.value,t},countPercentage:function(e){},createRule:function(e){for(var t=[],n=0;n<e.length;n++){var i={type:"el-carousel-item",props:{header:e[n].title},children:this.initQuestion(e[n])};t.push(i)}this.rule[0].children=t},initQuestion:function(e){for(var t=[],n=0;n<e.question.length;n++){var i={type:"el-card",props:{header:e.question[n].title,shadow:"never"},class:{"question-card":!0},children:this.initQuestionContent(e.question[n].content)};t.push(i)}return t},initQuestionContent:function(e){var t=[];return"object"===s(e)?(t.push(e),t):"array"===s(e)?e:void 0}},watch:{form:{handler:function(e,t){if(null==t)return 0;this.countPercentage(e)},deep:!0}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"myform-wrapper"},[n("div",{staticClass:"progress-wrapper"},[n("div",[e._v(e._s(e.finishnum)+"/"+e._s(e.totalnum))]),e._v(" "),n("el-progress",{staticStyle:{padding:"10px 25px 0px 25px"},attrs:{"show-text":!1,percentage:e.countper,"stroke-width":10}})],1),e._v(" "),n("form-create",{ref:"fc",staticClass:"myformcreate",attrs:{rule:e.myrule,option:e.option},on:{"gi-change":e.Updateprogress}})],1)},staticRenderFns:[]};var p={name:"home",components:{formBuilder:n("VU/8")(u,c,!1,function(e){n("hsFG")},null,null).exports},mounted:function(){var e=this;test,this.aaa="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx213b00ee9e767e01&redirect_uri=https://nzy19940403.github.io/weixintest/index.html&response_type=code&scope=snsapi_userinfo#wechat_redirect",this.axios({url:"https://api.weixin.qq.com/cgi-bin/user/info?access_token=ACCESS_TOKEN&openid=OPENID&lang=zh_CN"}).then(function(t){e.test=t})},data:function(){return{test:null,formdata:[{type:"input",field:"",props:{placeholder:"我试试"}}],aaa:null}},methods:{openCamera:function(){}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative",overflow:"hidden"}},[n("form-builder"),e._v(" "),n("el-button",{on:{click:e.openCamera}},[e._v("123")]),e._v(" "),n("qrcode",{attrs:{value:e.aaa,options:{width:200}}}),e._v("\n    "+e._s(e.test)+"\n")],1)},staticRenderFns:[]},f={name:"App",components:{home:n("VU/8")(p,d,!1,null,null,null).exports}},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("home")],1)},staticRenderFns:[]};var h=n("VU/8")(f,m,!1,function(e){n("ikrC")},null,null).exports,v=n("/ocq");i.default.use(v.a);var b=new v.a({mode:"history",routes:[]}),g=n("zL8q"),y=n.n(g),x=(n("tvR6"),n("twG1")),_=n.n(x),w=n("uoCc"),q=n("mtWM"),C=n.n(q),P=n("Rf8U"),j=n.n(P);i.default.use(_.a),i.default.component(w.a.name,w.a),i.default.use(y.a),i.default.config.productionTip=!1,i.default.use(j.a,C.a);new i.default({el:"#app",router:b,components:{App:h},template:"<App/>"})},hsFG:function(e,t){},ikrC:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.403a49f828703a18572e.js.map